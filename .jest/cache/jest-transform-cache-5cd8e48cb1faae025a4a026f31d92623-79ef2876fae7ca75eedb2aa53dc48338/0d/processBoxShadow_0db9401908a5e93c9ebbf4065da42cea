20de21d9dcfa302af2acc5b6a6682411
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = processBoxShadow;
var _processColor = _interopRequireDefault(require("./processColor"));
function _createForOfIteratorHelper(r, e) { var t = "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && "number" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t["return"] || t["return"](); } finally { if (u) throw o; } } }; }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function processBoxShadow(rawBoxShadows) {
  var result = [];
  if (rawBoxShadows == null) {
    return result;
  }
  var boxShadowList = typeof rawBoxShadows === 'string' ? parseBoxShadowString(rawBoxShadows.replace(/\n/g, ' ')) : rawBoxShadows;
  var _iterator = _createForOfIteratorHelper(boxShadowList),
    _step;
  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var rawBoxShadow = _step.value;
      var parsedBoxShadow = {
        offsetX: 0,
        offsetY: 0
      };
      var value = void 0;
      for (var arg in rawBoxShadow) {
        switch (arg) {
          case 'offsetX':
            value = typeof rawBoxShadow.offsetX === 'string' ? parseLength(rawBoxShadow.offsetX) : rawBoxShadow.offsetX;
            if (value == null) {
              return [];
            }
            parsedBoxShadow.offsetX = value;
            break;
          case 'offsetY':
            value = typeof rawBoxShadow.offsetY === 'string' ? parseLength(rawBoxShadow.offsetY) : rawBoxShadow.offsetY;
            if (value == null) {
              return [];
            }
            parsedBoxShadow.offsetY = value;
            break;
          case 'spreadDistance':
            value = typeof rawBoxShadow.spreadDistance === 'string' ? parseLength(rawBoxShadow.spreadDistance) : rawBoxShadow.spreadDistance;
            if (value == null) {
              return [];
            }
            parsedBoxShadow.spreadDistance = value;
            break;
          case 'blurRadius':
            value = typeof rawBoxShadow.blurRadius === 'string' ? parseLength(rawBoxShadow.blurRadius) : rawBoxShadow.blurRadius;
            if (value == null || value < 0) {
              return [];
            }
            parsedBoxShadow.blurRadius = value;
            break;
          case 'color':
            var color = (0, _processColor["default"])(rawBoxShadow.color);
            if (color == null) {
              return [];
            }
            parsedBoxShadow.color = color;
            break;
          case 'inset':
            parsedBoxShadow.inset = rawBoxShadow.inset;
        }
      }
      result.push(parsedBoxShadow);
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }
  return result;
}
function parseBoxShadowString(rawBoxShadows) {
  var result = [];
  var _iterator2 = _createForOfIteratorHelper(rawBoxShadows.split(/,(?![^()]*\))/).map(function (bS) {
      return bS.trim();
    }).filter(function (bS) {
      return bS !== '';
    })),
    _step2;
  try {
    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
      var rawBoxShadow = _step2.value;
      var boxShadow = {
        offsetX: 0,
        offsetY: 0
      };
      var offsetX = void 0;
      var offsetY = void 0;
      var keywordDetectedAfterLength = false;
      var lengthCount = 0;
      var args = rawBoxShadow.split(/\s+(?![^(]*\))/);
      var _iterator3 = _createForOfIteratorHelper(args),
        _step3;
      try {
        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
          var arg = _step3.value;
          var processedColor = (0, _processColor["default"])(arg);
          if (processedColor != null) {
            if (boxShadow.color != null) {
              return [];
            }
            if (offsetX != null) {
              keywordDetectedAfterLength = true;
            }
            boxShadow.color = arg;
            continue;
          }
          if (arg === 'inset') {
            if (boxShadow.inset != null) {
              return [];
            }
            if (offsetX != null) {
              keywordDetectedAfterLength = true;
            }
            boxShadow.inset = true;
            continue;
          }
          switch (lengthCount) {
            case 0:
              offsetX = arg;
              lengthCount++;
              break;
            case 1:
              if (keywordDetectedAfterLength) {
                return [];
              }
              offsetY = arg;
              lengthCount++;
              break;
            case 2:
              if (keywordDetectedAfterLength) {
                return [];
              }
              boxShadow.blurRadius = arg;
              lengthCount++;
              break;
            case 3:
              if (keywordDetectedAfterLength) {
                return [];
              }
              boxShadow.spreadDistance = arg;
              lengthCount++;
              break;
            default:
              return [];
          }
        }
      } catch (err) {
        _iterator3.e(err);
      } finally {
        _iterator3.f();
      }
      if (offsetX == null || offsetY == null) {
        return [];
      }
      boxShadow.offsetX = offsetX;
      boxShadow.offsetY = offsetY;
      result.push(boxShadow);
    }
  } catch (err) {
    _iterator2.e(err);
  } finally {
    _iterator2.f();
  }
  return result;
}
function parseLength(length) {
  var argsWithUnitsRegex = /([+-]?\d*(\.\d+)?)([\w\W]+)?/g;
  var match = argsWithUnitsRegex.exec(length);
  if (!match || Number.isNaN(match[1])) {
    return null;
  }
  if (match[3] != null && match[3] !== 'px') {
    return null;
  }
  return Number(match[1]);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvY2Vzc0NvbG9yIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsInIiLCJlIiwidCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiQXJyYXkiLCJpc0FycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwibGVuZ3RoIiwiX24iLCJGIiwicyIsIm4iLCJkb25lIiwidmFsdWUiLCJmIiwiVHlwZUVycm9yIiwibyIsImEiLCJ1IiwiY2FsbCIsIm5leHQiLCJfYXJyYXlMaWtlVG9BcnJheSIsInRvU3RyaW5nIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJmcm9tIiwidGVzdCIsInByb2Nlc3NCb3hTaGFkb3ciLCJyYXdCb3hTaGFkb3dzIiwicmVzdWx0IiwiYm94U2hhZG93TGlzdCIsInBhcnNlQm94U2hhZG93U3RyaW5nIiwicmVwbGFjZSIsIl9pdGVyYXRvciIsIl9zdGVwIiwicmF3Qm94U2hhZG93IiwicGFyc2VkQm94U2hhZG93Iiwib2Zmc2V0WCIsIm9mZnNldFkiLCJhcmciLCJwYXJzZUxlbmd0aCIsInNwcmVhZERpc3RhbmNlIiwiYmx1clJhZGl1cyIsImNvbG9yIiwicHJvY2Vzc0NvbG9yIiwiaW5zZXQiLCJwdXNoIiwiZXJyIiwiX2l0ZXJhdG9yMiIsInNwbGl0IiwibWFwIiwiYlMiLCJ0cmltIiwiZmlsdGVyIiwiX3N0ZXAyIiwiYm94U2hhZG93Iiwia2V5d29yZERldGVjdGVkQWZ0ZXJMZW5ndGgiLCJsZW5ndGhDb3VudCIsImFyZ3MiLCJfaXRlcmF0b3IzIiwiX3N0ZXAzIiwicHJvY2Vzc2VkQ29sb3IiLCJhcmdzV2l0aFVuaXRzUmVnZXgiLCJtYXRjaCIsImV4ZWMiLCJOdW1iZXIiLCJpc05hTiJdLCJzb3VyY2VzIjpbInByb2Nlc3NCb3hTaGFkb3cuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93IHN0cmljdC1sb2NhbFxuICogQGZvcm1hdFxuICogQG9uY2FsbCByZWFjdC1uYXRpdmVcbiAqL1xuXG5pbXBvcnQgdHlwZSB7UHJvY2Vzc2VkQ29sb3JWYWx1ZX0gZnJvbSAnLi9wcm9jZXNzQ29sb3InO1xuaW1wb3J0IHR5cGUge0JveFNoYWRvd1ZhbHVlfSBmcm9tICcuL1N0eWxlU2hlZXRUeXBlcyc7XG5cbmltcG9ydCBwcm9jZXNzQ29sb3IgZnJvbSAnLi9wcm9jZXNzQ29sb3InO1xuXG5leHBvcnQgdHlwZSBQYXJzZWRCb3hTaGFkb3cgPSB7XG4gIG9mZnNldFg6IG51bWJlcixcbiAgb2Zmc2V0WTogbnVtYmVyLFxuICBjb2xvcj86IFByb2Nlc3NlZENvbG9yVmFsdWUsXG4gIGJsdXJSYWRpdXM/OiBudW1iZXIsXG4gIHNwcmVhZERpc3RhbmNlPzogbnVtYmVyLFxuICBpbnNldD86IGJvb2xlYW4sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwcm9jZXNzQm94U2hhZG93KFxuICByYXdCb3hTaGFkb3dzOiA/KCRSZWFkT25seUFycmF5PEJveFNoYWRvd1ZhbHVlPiB8IHN0cmluZyksXG4pOiBBcnJheTxQYXJzZWRCb3hTaGFkb3c+IHtcbiAgY29uc3QgcmVzdWx0OiBBcnJheTxQYXJzZWRCb3hTaGFkb3c+ID0gW107XG4gIGlmIChyYXdCb3hTaGFkb3dzID09IG51bGwpIHtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgY29uc3QgYm94U2hhZG93TGlzdCA9XG4gICAgdHlwZW9mIHJhd0JveFNoYWRvd3MgPT09ICdzdHJpbmcnXG4gICAgICA/IHBhcnNlQm94U2hhZG93U3RyaW5nKHJhd0JveFNoYWRvd3MucmVwbGFjZSgvXFxuL2csICcgJykpXG4gICAgICA6IHJhd0JveFNoYWRvd3M7XG5cbiAgZm9yIChjb25zdCByYXdCb3hTaGFkb3cgb2YgYm94U2hhZG93TGlzdCkge1xuICAgIGNvbnN0IHBhcnNlZEJveFNoYWRvdzogUGFyc2VkQm94U2hhZG93ID0ge1xuICAgICAgb2Zmc2V0WDogMCxcbiAgICAgIG9mZnNldFk6IDAsXG4gICAgfTtcblxuICAgIGxldCB2YWx1ZTtcbiAgICBmb3IgKGNvbnN0IGFyZyBpbiByYXdCb3hTaGFkb3cpIHtcbiAgICAgIHN3aXRjaCAoYXJnKSB7XG4gICAgICAgIGNhc2UgJ29mZnNldFgnOlxuICAgICAgICAgIHZhbHVlID1cbiAgICAgICAgICAgIHR5cGVvZiByYXdCb3hTaGFkb3cub2Zmc2V0WCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgPyBwYXJzZUxlbmd0aChyYXdCb3hTaGFkb3cub2Zmc2V0WClcbiAgICAgICAgICAgICAgOiByYXdCb3hTaGFkb3cub2Zmc2V0WDtcbiAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHBhcnNlZEJveFNoYWRvdy5vZmZzZXRYID0gdmFsdWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ29mZnNldFknOlxuICAgICAgICAgIHZhbHVlID1cbiAgICAgICAgICAgIHR5cGVvZiByYXdCb3hTaGFkb3cub2Zmc2V0WSA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgPyBwYXJzZUxlbmd0aChyYXdCb3hTaGFkb3cub2Zmc2V0WSlcbiAgICAgICAgICAgICAgOiByYXdCb3hTaGFkb3cub2Zmc2V0WTtcbiAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHBhcnNlZEJveFNoYWRvdy5vZmZzZXRZID0gdmFsdWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3NwcmVhZERpc3RhbmNlJzpcbiAgICAgICAgICB2YWx1ZSA9XG4gICAgICAgICAgICB0eXBlb2YgcmF3Qm94U2hhZG93LnNwcmVhZERpc3RhbmNlID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICA/IHBhcnNlTGVuZ3RoKHJhd0JveFNoYWRvdy5zcHJlYWREaXN0YW5jZSlcbiAgICAgICAgICAgICAgOiByYXdCb3hTaGFkb3cuc3ByZWFkRGlzdGFuY2U7XG4gICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwYXJzZWRCb3hTaGFkb3cuc3ByZWFkRGlzdGFuY2UgPSB2YWx1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYmx1clJhZGl1cyc6XG4gICAgICAgICAgdmFsdWUgPVxuICAgICAgICAgICAgdHlwZW9mIHJhd0JveFNoYWRvdy5ibHVyUmFkaXVzID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICA/IHBhcnNlTGVuZ3RoKHJhd0JveFNoYWRvdy5ibHVyUmFkaXVzKVxuICAgICAgICAgICAgICA6IHJhd0JveFNoYWRvdy5ibHVyUmFkaXVzO1xuICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHBhcnNlZEJveFNoYWRvdy5ibHVyUmFkaXVzID0gdmFsdWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NvbG9yJzpcbiAgICAgICAgICBjb25zdCBjb2xvciA9IHByb2Nlc3NDb2xvcihyYXdCb3hTaGFkb3cuY29sb3IpO1xuICAgICAgICAgIGlmIChjb2xvciA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcGFyc2VkQm94U2hhZG93LmNvbG9yID0gY29sb3I7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2luc2V0JzpcbiAgICAgICAgICBwYXJzZWRCb3hTaGFkb3cuaW5zZXQgPSByYXdCb3hTaGFkb3cuaW5zZXQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5wdXNoKHBhcnNlZEJveFNoYWRvdyk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcGFyc2VCb3hTaGFkb3dTdHJpbmcocmF3Qm94U2hhZG93czogc3RyaW5nKTogQXJyYXk8Qm94U2hhZG93VmFsdWU+IHtcbiAgbGV0IHJlc3VsdDogQXJyYXk8Qm94U2hhZG93VmFsdWU+ID0gW107XG5cbiAgZm9yIChjb25zdCByYXdCb3hTaGFkb3cgb2YgcmF3Qm94U2hhZG93c1xuICAgIC5zcGxpdCgvLCg/IVteKCldKlxcKSkvKSAvLyBzcGxpdCBieSBjb21tYSB0aGF0IGlzIG5vdCBpbiBwYXJlbnRoZXNpc1xuICAgIC5tYXAoYlMgPT4gYlMudHJpbSgpKVxuICAgIC5maWx0ZXIoYlMgPT4gYlMgIT09ICcnKSkge1xuICAgIGNvbnN0IGJveFNoYWRvdzogQm94U2hhZG93VmFsdWUgPSB7XG4gICAgICBvZmZzZXRYOiAwLFxuICAgICAgb2Zmc2V0WTogMCxcbiAgICB9O1xuICAgIGxldCBvZmZzZXRYOiBudW1iZXIgfCBzdHJpbmc7XG4gICAgbGV0IG9mZnNldFk6IG51bWJlciB8IHN0cmluZztcbiAgICBsZXQga2V5d29yZERldGVjdGVkQWZ0ZXJMZW5ndGggPSBmYWxzZTtcblxuICAgIGxldCBsZW5ndGhDb3VudCA9IDA7XG5cbiAgICAvLyBzcGxpdCByYXdCb3hTaGFkb3cgc3RyaW5nIGJ5IGFsbCB3aGl0ZXNwYWNlcyB0aGF0IGFyZSBub3QgaW4gcGFyZW50aGVzaXNcbiAgICBjb25zdCBhcmdzID0gcmF3Qm94U2hhZG93LnNwbGl0KC9cXHMrKD8hW14oXSpcXCkpLyk7XG4gICAgZm9yIChjb25zdCBhcmcgb2YgYXJncykge1xuICAgICAgY29uc3QgcHJvY2Vzc2VkQ29sb3IgPSBwcm9jZXNzQ29sb3IoYXJnKTtcbiAgICAgIGlmIChwcm9jZXNzZWRDb2xvciAhPSBudWxsKSB7XG4gICAgICAgIGlmIChib3hTaGFkb3cuY29sb3IgIT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2Zmc2V0WCAhPSBudWxsKSB7XG4gICAgICAgICAga2V5d29yZERldGVjdGVkQWZ0ZXJMZW5ndGggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGJveFNoYWRvdy5jb2xvciA9IGFyZztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChhcmcgPT09ICdpbnNldCcpIHtcbiAgICAgICAgaWYgKGJveFNoYWRvdy5pbnNldCAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvZmZzZXRYICE9IG51bGwpIHtcbiAgICAgICAgICBrZXl3b3JkRGV0ZWN0ZWRBZnRlckxlbmd0aCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgYm94U2hhZG93Lmluc2V0ID0gdHJ1ZTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAobGVuZ3RoQ291bnQpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIG9mZnNldFggPSBhcmc7XG4gICAgICAgICAgbGVuZ3RoQ291bnQrKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmIChrZXl3b3JkRGV0ZWN0ZWRBZnRlckxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvZmZzZXRZID0gYXJnO1xuICAgICAgICAgIGxlbmd0aENvdW50Kys7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBpZiAoa2V5d29yZERldGVjdGVkQWZ0ZXJMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYm94U2hhZG93LmJsdXJSYWRpdXMgPSBhcmc7XG4gICAgICAgICAgbGVuZ3RoQ291bnQrKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGlmIChrZXl3b3JkRGV0ZWN0ZWRBZnRlckxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBib3hTaGFkb3cuc3ByZWFkRGlzdGFuY2UgPSBhcmc7XG4gICAgICAgICAgbGVuZ3RoQ291bnQrKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9mZnNldFggPT0gbnVsbCB8fCBvZmZzZXRZID09IG51bGwpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBib3hTaGFkb3cub2Zmc2V0WCA9IG9mZnNldFg7XG4gICAgYm94U2hhZG93Lm9mZnNldFkgPSBvZmZzZXRZO1xuXG4gICAgcmVzdWx0LnB1c2goYm94U2hhZG93KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBwYXJzZUxlbmd0aChsZW5ndGg6IHN0cmluZyk6ID9udW1iZXIge1xuICAvLyBtYXRjaGVzIG9uIGFyZ3Mgd2l0aCB1bml0cyBsaWtlIFwiMS41IDUlIC04MGRlZ1wiXG4gIGNvbnN0IGFyZ3NXaXRoVW5pdHNSZWdleCA9IC8oWystXT9cXGQqKFxcLlxcZCspPykoW1xcd1xcV10rKT8vZztcbiAgY29uc3QgbWF0Y2ggPSBhcmdzV2l0aFVuaXRzUmVnZXguZXhlYyhsZW5ndGgpO1xuXG4gIGlmICghbWF0Y2ggfHwgTnVtYmVyLmlzTmFOKG1hdGNoWzFdKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKG1hdGNoWzNdICE9IG51bGwgJiYgbWF0Y2hbM10gIT09ICdweCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBOdW1iZXIobWF0Y2hbMV0pO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBY0EsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLDJCQUFBQyxDQUFBLEVBQUFDLENBQUEsUUFBQUMsQ0FBQSx5QkFBQUMsTUFBQSxJQUFBSCxDQUFBLENBQUFHLE1BQUEsQ0FBQUMsUUFBQSxLQUFBSixDQUFBLHFCQUFBRSxDQUFBLFFBQUFHLEtBQUEsQ0FBQUMsT0FBQSxDQUFBTixDQUFBLE1BQUFFLENBQUEsR0FBQUssMkJBQUEsQ0FBQVAsQ0FBQSxNQUFBQyxDQUFBLElBQUFELENBQUEsdUJBQUFBLENBQUEsQ0FBQVEsTUFBQSxJQUFBTixDQUFBLEtBQUFGLENBQUEsR0FBQUUsQ0FBQSxPQUFBTyxFQUFBLE1BQUFDLENBQUEsWUFBQUEsRUFBQSxlQUFBQyxDQUFBLEVBQUFELENBQUEsRUFBQUUsQ0FBQSxXQUFBQSxFQUFBLFdBQUFILEVBQUEsSUFBQVQsQ0FBQSxDQUFBUSxNQUFBLEtBQUFLLElBQUEsV0FBQUEsSUFBQSxNQUFBQyxLQUFBLEVBQUFkLENBQUEsQ0FBQVMsRUFBQSxVQUFBUixDQUFBLFdBQUFBLEVBQUFELENBQUEsVUFBQUEsQ0FBQSxLQUFBZSxDQUFBLEVBQUFMLENBQUEsZ0JBQUFNLFNBQUEsaUpBQUFDLENBQUEsRUFBQUMsQ0FBQSxPQUFBQyxDQUFBLGdCQUFBUixDQUFBLFdBQUFBLEVBQUEsSUFBQVQsQ0FBQSxHQUFBQSxDQUFBLENBQUFrQixJQUFBLENBQUFwQixDQUFBLE1BQUFZLENBQUEsV0FBQUEsRUFBQSxRQUFBWixDQUFBLEdBQUFFLENBQUEsQ0FBQW1CLElBQUEsV0FBQUgsQ0FBQSxHQUFBbEIsQ0FBQSxDQUFBYSxJQUFBLEVBQUFiLENBQUEsS0FBQUMsQ0FBQSxXQUFBQSxFQUFBRCxDQUFBLElBQUFtQixDQUFBLE9BQUFGLENBQUEsR0FB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